:root{
  --glass-bg: rgba(255,255,255,0.18);
  --glass-border: rgba(255,255,255,0.25);
  --text-dark: #0f172a; /* slate-900 */
  --text-light: #f8fafc; /* slate-50 */
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text-light);
  transition: background 1s ease, color .4s ease;
  background: linear-gradient(120deg,#74ebd5,#ACB6E5); /* default */
  background-attachment: fixed;
}

/* Weather-based animated gradients */
body.sunny{ background: linear-gradient(-45deg,#f9d423,#ff4e50,#f9d423,#ff4e50); background-size:400% 400%; animation:grad 12s ease infinite }
body.cloudy{ background: linear-gradient(-45deg,#cfd9df,#e2ebf0,#b2bec3,#dfe6e9); background-size:400% 400%; animation:grad 16s ease infinite }
body.rainy{ background: linear-gradient(-45deg,#4facfe,#00f2fe,#3a7bd5,#00d2ff); background-size:400% 400%; animation:grad 16s ease infinite }
body.storm{ background: linear-gradient(-45deg,#232526,#414345,#0f2027,#203a43); background-size:400% 400%; animation:grad 18s ease infinite }
body.snow{ background: linear-gradient(-45deg,#e6f0ff,#c9d6ff,#e6f0ff,#f1f5ff); background-size:400% 400%; animation:grad 18s ease infinite; color: #0f172a }
@keyframes grad{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

/* Top bar */
.topbar{
  position:fixed; inset:0 0 auto 0; height:64px; display:flex; align-items:center; gap:12px;
  padding: 0 16px; z-index:3; backdrop-filter: blur(10px);
  background: linear-gradient(to right, rgba(0,0,0,.35), rgba(0,0,0,.15));
  border-bottom:1px solid rgba(255,255,255,.15)
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.3px}
.brand .logo{font-size:24px}

/* Background city image */
.hero-bg{
  position: fixed; inset:0; z-index:0; background-position:center; background-size:cover; opacity:.25; transition:opacity .6s ease, background-image .6s ease;
}

.container{
  position:relative; z-index:1; padding:96px 16px 28px; max-width:1080px; margin:0 auto;
  display:grid; gap:16px; grid-template-columns:1fr; align-items:start;
}
@media(min-width:900px){
  .container{ grid-template-columns: 420px 1fr }
}

/* Glass cards */
.card{
  background: var(--glass-bg); border:1px solid var(--glass-border); border-radius:24px; padding:18px; backdrop-filter: blur(14px); box-shadow: 0 10px 30px rgba(0,0,0,.25);
}

.controls{ display:flex; gap:8px; flex-wrap:wrap }
.controls input{
  flex:1; min-width:220px; padding:12px 14px; border-radius:14px; border:1px solid rgba(255,255,255,.35); outline:none; background: rgba(255,255,255,.1); color:var(--text-light)
}
.btn{ padding:12px 14px; border:none; border-radius:14px; background:#111827; color:#fff; cursor:pointer }
.btn.secondary{ background: rgba(255,255,255,.18); color:#fff; border:1px solid rgba(255,255,255,.35) }
.btn:hover{ filter:brightness(1.1) }

.current h2{ margin:6px 0 2px }
.meta{ opacity:.9; font-size:14px }
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px }
.kv{ background: rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.22); border-radius:14px; padding:10px; text-align:center }
.kv .label{ font-size:12px; opacity:.85 }
.kv .val{ font-weight:700; font-size:18px; margin-top:4px }

.forecast{ display:grid; grid-template-columns: repeat(5, minmax(0,1fr)); gap:10px }
.day{ text-align:center; padding:12px; border-radius:16px; border:1px solid rgba(255,255,255,.22); background: rgba(255,255,255,.12) }
.day img{ width:48px; height:48px }

.recent{ display:flex; gap:8px; flex-wrap:wrap }
.chip{ padding:8px 10px; border-radius:999px; background: rgba(255,255,255,.14); border:1px solid rgba(255,255,255,.22); cursor:pointer; font-size:14px }

.footer{ opacity:.9; font-size:13px; display:flex; gap:8px; align-items:center; justify-content:space-between; margin-top:8px }

/* Modal */
.modal{ position:fixed; inset:0; background: rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:10 }
.modal.open{ display:flex }
.modal .sheet{ max-width:560px; margin:16px; }

/* Dark mode */
.toggle{ display:flex; align-items:center; gap:8px; margin-left:auto }
.switch{ position:relative; width:48px; height:26px; background:rgba(255,255,255,.3); border-radius:999px; border:1px solid rgba(255,255,255,.4) }
.knob{ position:absolute; top:2px; left:2px; width:22px; height:22px; background:#fff; border-radius:50%; transition:left .25s ease }
body.dark{ color: var(--text-dark) }
body.dark .card{ background: rgba(255,255,255,.7); border-color: rgba(0,0,0,.1) }
body.dark .controls input{ background: rgba(255,255,255,.85); color:#111 }
body.dark .btn.secondary{ background:#111827; color:#fff; border:none }
body.dark .hero-bg{ opacity:.33 }
body.dark .switch{ background:#0f172a }
body.dark .knob{ left:24px }
